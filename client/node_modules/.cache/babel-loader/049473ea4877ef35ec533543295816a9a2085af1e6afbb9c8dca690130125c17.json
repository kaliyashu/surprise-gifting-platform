{"ast":null,"code":"import _objectSpread from\"K:/Surprise Gifting Platform/Surprise Gifting Platform/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{motion,AnimatePresence}from'framer-motion';import{useSound}from'use-sound';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const InteractiveTemplate=_ref=>{let{template,surprise,onComplete}=_ref;const[currentStep,setCurrentStep]=useState(0);const[stepState,setStepState]=useState({});const[isPlaying,setIsPlaying]=useState(false);const audioRef=useRef(null);// Sound effects (using use-sound hook)\nconst[playDoorCreak]=useSound('/sounds/door-creak.mp3',{volume:0.5});const[playBalloonPop]=useSound('/sounds/balloon-pop.mp3',{volume:0.3});const[playBirthdayMusic]=useSound('/sounds/birthday-music.mp3',{volume:0.4});const[playCelebration]=useSound('/sounds/celebration.mp3',{volume:0.5});const currentStepConfig=template.config.steps[currentStep];useEffect(()=>{// Auto-advance for auto-action steps\nif((currentStepConfig===null||currentStepConfig===void 0?void 0:currentStepConfig.action)==='auto'){const timer=setTimeout(()=>{handleStepComplete();},currentStepConfig.duration||3000);return()=>clearTimeout(timer);}},[currentStep,currentStepConfig]);const handleStepComplete=()=>{if(currentStep<template.config.steps.length-1){setCurrentStep(currentStep+1);setStepState({});}else{onComplete&&onComplete();}};const handleInteraction=function(stepId){let data=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};setStepState(prev=>_objectSpread(_objectSpread({},prev),{},{[stepId]:data}));// Play appropriate sound\nswitch(stepId){case'door':playDoorCreak();break;case'balloons':playBalloonPop();break;case'lights':playBirthdayMusic();break;case'final':playCelebration();break;default:break;}// Auto-advance if specified\nif(currentStepConfig!==null&&currentStepConfig!==void 0&&currentStepConfig.next){setTimeout(()=>{handleStepComplete();},1000);}};const renderStep=()=>{switch(currentStepConfig===null||currentStepConfig===void 0?void 0:currentStepConfig.scene){case'DarkRoom':return/*#__PURE__*/_jsx(DarkRoomScene,{step:currentStepConfig,onInteraction:handleInteraction});case'LightReveal':return/*#__PURE__*/_jsx(LightRevealScene,{step:currentStepConfig,onInteraction:handleInteraction});case'BalloonInteraction':return/*#__PURE__*/_jsx(BalloonInteractionScene,{step:currentStepConfig,onInteraction:handleInteraction});case'FinalReveal':return/*#__PURE__*/_jsx(FinalRevealScene,{step:currentStepConfig,onInteraction:handleInteraction});default:return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full h-screen overflow-hidden bg-black\",children:[/*#__PURE__*/_jsx(\"audio\",{ref:audioRef,preload:\"auto\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-4 left-4 right-4 z-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-800 rounded-full h-2\",children:/*#__PURE__*/_jsx(motion.div,{className:\"bg-gradient-to-r from-yellow-400 to-orange-500 h-2 rounded-full\",initial:{width:0},animate:{width:\"\".concat((currentStep+1)/template.config.steps.length*100,\"%\")},transition:{duration:0.5}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-white text-sm mt-2 text-center\",children:[\"Step \",currentStep+1,\" of \",template.config.steps.length]})]}),/*#__PURE__*/_jsx(AnimatePresence,{mode:\"wait\",children:/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,scale:0.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.2},transition:{duration:0.5},className:\"w-full h-full\",children:renderStep()},currentStep)}),/*#__PURE__*/_jsx(\"button\",{onClick:onComplete,className:\"absolute bottom-4 right-4 z-50 bg-gray-800 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors\",children:\"Skip to End\"})]});};// Dark Room Scene with Golden Door\nconst DarkRoomScene=_ref2=>{let{step,onInteraction}=_ref2;const[doorClicked,setDoorClicked]=useState(false);const handleDoorClick=()=>{setDoorClicked(true);onInteraction('door',{opened:true});};return/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full h-full bg-gradient-to-b from-gray-900 to-black flex items-center justify-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0\",children:[...Array(20)].map((_,i)=>/*#__PURE__*/_jsx(motion.div,{className:\"absolute w-1 h-1 bg-yellow-400 rounded-full\",animate:{x:[0,100,0],y:[0,-100,0],opacity:[0,1,0]},transition:{duration:3+Math.random()*2,repeat:Infinity,delay:Math.random()*2},style:{left:\"\".concat(Math.random()*100,\"%\"),top:\"\".concat(Math.random()*100,\"%\")}},i))}),/*#__PURE__*/_jsx(motion.div,{className:\"relative cursor-pointer\",whileHover:{scale:1.05},whileTap:{scale:0.95},onClick:handleDoorClick,children:/*#__PURE__*/_jsxs(motion.div,{className:\"w-64 h-96 bg-gradient-to-b from-yellow-400 via-yellow-500 to-yellow-600 rounded-lg shadow-2xl border-4 border-yellow-300\",animate:doorClicked?{rotateY:90}:{rotateY:0},transition:{duration:2,ease:\"easeInOut\"},style:{transformStyle:\"preserve-3d\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute right-4 top-1/2 transform -translate-y-1/2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-6 h-6 bg-yellow-700 rounded-full shadow-lg\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-4 border-2 border-yellow-300 rounded\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-8 left-8 right-8 bottom-8 border border-yellow-200 rounded\"})]})}),!doorClicked&&/*#__PURE__*/_jsx(motion.div,{className:\"absolute bottom-20 text-yellow-400 text-xl font-semibold\",animate:{opacity:[0.5,1,0.5]},transition:{duration:2,repeat:Infinity},children:\"Click the golden door to enter...\"})]});};// Light Reveal Scene\nconst LightRevealScene=_ref3=>{let{step,onInteraction}=_ref3;const[lightsOn,setLightsOn]=useState(false);useEffect(()=>{const timer=setTimeout(()=>{setLightsOn(true);onInteraction('lights',{illuminated:true});},1000);return()=>clearTimeout(timer);},[]);return/*#__PURE__*/_jsx(motion.div,{className:\"relative w-full h-full flex items-center justify-center\",animate:{backgroundColor:lightsOn?'#FFE5E5':'#1a1a1a'},transition:{duration:2},children:/*#__PURE__*/_jsx(AnimatePresence,{children:lightsOn&&/*#__PURE__*/_jsxs(_Fragment,{children:[[...Array(8)].map((_,i)=>/*#__PURE__*/_jsx(motion.div,{className:\"absolute w-16 h-20 rounded-full\",style:{backgroundColor:['#FF6B6B','#4ECDC4','#45B7D1','#96CEB4','#FFEAA7'][i%5],left:\"\".concat(20+i*10,\"%\"),top:\"\".concat(30+i%2*20,\"%\")},initial:{scale:0,y:100},animate:{scale:1,y:0},transition:{delay:i*0.2,duration:0.8}},i)),[...Array(50)].map((_,i)=>/*#__PURE__*/_jsx(motion.div,{className:\"absolute w-2 h-2 rounded-full\",style:{backgroundColor:['#FF6B6B','#4ECDC4','#45B7D1','#96CEB4','#FFEAA7'][i%5],left:\"\".concat(Math.random()*100,\"%\"),top:\"\".concat(Math.random()*100,\"%\")},initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:i*0.1,duration:1}},i)),/*#__PURE__*/_jsxs(motion.div,{className:\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center\",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,duration:0.8},children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-pink-600 mb-4\",children:\"\\uD83C\\uDF89 Welcome to Your Birthday Surprise! \\uD83C\\uDF82\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl text-gray-700\",children:\"The magic is about to begin...\"})]})]})})});};// Balloon Interaction Scene\nconst BalloonInteractionScene=_ref4=>{let{step,onInteraction}=_ref4;const[poppedBalloons,setPoppedBalloons]=useState(new Set());const[revealedContent,setRevealedContent]=useState([]);const totalBalloons=step.count||5;const allPopped=poppedBalloons.size===totalBalloons;const handleBalloonPop=balloonId=>{if(poppedBalloons.has(balloonId))return;setPoppedBalloons(prev=>new Set([...prev,balloonId]));// Add revealed content\nconst newContent={id:balloonId,type:'message',content:\"Birthday wish \".concat(balloonId+1,\" \\uD83C\\uDF88\"),timestamp:Date.now()};setRevealedContent(prev=>[...prev,newContent]);onInteraction('balloons',{popped:balloonId,total:totalBalloons});// Check if all balloons are popped\nif(poppedBalloons.size+1===totalBalloons){setTimeout(()=>{onInteraction('balloons',{completed:true});},1000);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full h-full bg-gradient-to-b from-pink-100 to-purple-100 flex items-center justify-center\",children:[[...Array(totalBalloons)].map((_,i)=>/*#__PURE__*/_jsx(motion.div,{className:\"absolute cursor-pointer \".concat(poppedBalloons.has(i)?'pointer-events-none':''),style:{left:\"\".concat(15+i*15,\"%\"),top:\"\".concat(20+i%2*30,\"%\")},animate:poppedBalloons.has(i)?{}:{y:[0,-20,0],rotate:[0,5,-5,0]},transition:{duration:3,repeat:Infinity,delay:i*0.3},children:/*#__PURE__*/_jsx(motion.div,{className:\"w-20 h-24 rounded-full shadow-lg \".concat(poppedBalloons.has(i)?'opacity-0 scale-0':'opacity-100 scale-100'),style:{backgroundColor:['#FF6B6B','#4ECDC4','#45B7D1','#96CEB4','#FFEAA7'][i%5]},whileHover:{scale:1.1},whileTap:{scale:0.9},onClick:()=>handleBalloonPop(i),transition:{duration:0.3},children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-0.5 h-16 bg-gray-400\"})})},i)),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-20 left-4 right-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-3 gap-4\",children:revealedContent.map(content=>/*#__PURE__*/_jsx(motion.div,{className:\"bg-white p-4 rounded-lg shadow-lg border-2 border-pink-200\",initial:{opacity:0,scale:0.8},animate:{opacity:1,scale:1},transition:{duration:0.5},children:/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-700 font-semibold\",children:content.content})},content.id))})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-8 left-1/2 transform -translate-x-1/2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-4 rounded-lg shadow-lg\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg font-semibold text-gray-700\",children:[\"\\uD83C\\uDF88 \",poppedBalloons.size,\" of \",totalBalloons,\" balloons popped\"]})})}),allPopped&&/*#__PURE__*/_jsx(motion.div,{className:\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2\",initial:{opacity:0,scale:0.5},animate:{opacity:1,scale:1},transition:{duration:0.8},children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-pink-400 to-purple-500 text-white p-8 rounded-2xl shadow-2xl text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-4\",children:\"\\uD83C\\uDF89 All Balloons Popped! \\uD83C\\uDF88\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl\",children:\"Ready for the final surprise?\"})]})})]});};// Final Reveal Scene\nconst FinalRevealScene=_ref5=>{let{step,onInteraction}=_ref5;const[showFinale,setShowFinale]=useState(false);useEffect(()=>{const timer=setTimeout(()=>{setShowFinale(true);onInteraction('final',{revealed:true});},1000);return()=>clearTimeout(timer);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full h-full bg-gradient-to-b from-purple-900 via-pink-800 to-red-600 flex items-center justify-center\",children:[showFinale&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0\",children:[...Array(30)].map((_,i)=>/*#__PURE__*/_jsx(motion.div,{className:\"absolute w-2 h-2 rounded-full\",style:{backgroundColor:['#FFD700','#FF6B6B','#4ECDC4','#45B7D1','#FFEAA7'][i%5],left:\"\".concat(Math.random()*100,\"%\"),top:\"\".concat(Math.random()*100,\"%\")},animate:{scale:[0,2,0],opacity:[0,1,0],y:[0,-100,-200],x:[0,Math.random()*100-50,Math.random()*100-50]},transition:{duration:2+Math.random()*2,repeat:Infinity,delay:Math.random()*2}},i))}),/*#__PURE__*/_jsx(AnimatePresence,{children:showFinale&&/*#__PURE__*/_jsxs(motion.div,{className:\"text-center text-white z-10\",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1},children:[/*#__PURE__*/_jsx(motion.h1,{className:\"text-6xl md:text-8xl font-bold mb-8\",animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:Infinity},children:\"\\uD83C\\uDF89 Happy Birthday! \\uD83C\\uDF82\"}),/*#__PURE__*/_jsx(motion.p,{className:\"text-2xl md:text-3xl mb-8\",initial:{opacity:0},animate:{opacity:1},transition:{delay:0.5,duration:1},children:\"May your day be filled with joy, laughter, and wonderful surprises! \\u2728\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-4 justify-center\",children:[/*#__PURE__*/_jsx(motion.button,{className:\"bg-white text-purple-600 px-8 py-4 rounded-full text-xl font-semibold hover:bg-gray-100 transition-colors\",whileHover:{scale:1.05},whileTap:{scale:0.95},onClick:()=>window.location.reload(),children:\"\\uD83C\\uDF81 Replay Surprise\"}),/*#__PURE__*/_jsx(motion.button,{className:\"bg-gradient-to-r from-pink-400 to-purple-500 text-white px-8 py-4 rounded-full text-xl font-semibold hover:from-pink-500 hover:to-purple-600 transition-all\",whileHover:{scale:1.05},whileTap:{scale:0.95},onClick:()=>{// Share functionality\nif(navigator.share){navigator.share({title:'Birthday Surprise!',text:'Check out this amazing birthday surprise!',url:window.location.href});}},children:\"\\uD83D\\uDCE4 Share Joy\"})]})]})})]});};export default InteractiveTemplate;","map":{"version":3,"names":["React","useState","useEffect","useRef","motion","AnimatePresence","useSound","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","InteractiveTemplate","_ref","template","surprise","onComplete","currentStep","setCurrentStep","stepState","setStepState","isPlaying","setIsPlaying","audioRef","playDoorCreak","volume","playBalloonPop","playBirthdayMusic","playCelebration","currentStepConfig","config","steps","action","timer","setTimeout","handleStepComplete","duration","clearTimeout","length","handleInteraction","stepId","data","arguments","undefined","prev","_objectSpread","next","renderStep","scene","DarkRoomScene","step","onInteraction","LightRevealScene","BalloonInteractionScene","FinalRevealScene","children","className","ref","preload","div","initial","width","animate","concat","transition","mode","opacity","scale","exit","onClick","_ref2","doorClicked","setDoorClicked","handleDoorClick","opened","Array","map","_","i","x","y","Math","random","repeat","Infinity","delay","style","left","top","whileHover","whileTap","rotateY","ease","transformStyle","_ref3","lightsOn","setLightsOn","illuminated","backgroundColor","_ref4","poppedBalloons","setPoppedBalloons","Set","revealedContent","setRevealedContent","totalBalloons","count","allPopped","size","handleBalloonPop","balloonId","has","newContent","id","type","content","timestamp","Date","now","popped","total","completed","rotate","_ref5","showFinale","setShowFinale","revealed","h1","p","button","window","location","reload","navigator","share","title","text","url","href"],"sources":["K:/Surprise Gifting Platform/Surprise Gifting Platform/client/src/components/templates/InteractiveTemplate.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { useSound } from 'use-sound';\r\n\r\nconst InteractiveTemplate = ({ template, surprise, onComplete }) => {\r\n  const [currentStep, setCurrentStep] = useState(0);\r\n  const [stepState, setStepState] = useState({});\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const audioRef = useRef(null);\r\n\r\n  // Sound effects (using use-sound hook)\r\n  const [playDoorCreak] = useSound('/sounds/door-creak.mp3', { volume: 0.5 });\r\n  const [playBalloonPop] = useSound('/sounds/balloon-pop.mp3', { volume: 0.3 });\r\n  const [playBirthdayMusic] = useSound('/sounds/birthday-music.mp3', { volume: 0.4 });\r\n  const [playCelebration] = useSound('/sounds/celebration.mp3', { volume: 0.5 });\r\n\r\n  const currentStepConfig = template.config.steps[currentStep];\r\n\r\n  useEffect(() => {\r\n    // Auto-advance for auto-action steps\r\n    if (currentStepConfig?.action === 'auto') {\r\n      const timer = setTimeout(() => {\r\n        handleStepComplete();\r\n      }, currentStepConfig.duration || 3000);\r\n      \r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [currentStep, currentStepConfig]);\r\n\r\n  const handleStepComplete = () => {\r\n    if (currentStep < template.config.steps.length - 1) {\r\n      setCurrentStep(currentStep + 1);\r\n      setStepState({});\r\n    } else {\r\n      onComplete && onComplete();\r\n    }\r\n  };\r\n\r\n  const handleInteraction = (stepId, data = {}) => {\r\n    setStepState(prev => ({ ...prev, [stepId]: data }));\r\n    \r\n    // Play appropriate sound\r\n    switch (stepId) {\r\n      case 'door':\r\n        playDoorCreak();\r\n        break;\r\n      case 'balloons':\r\n        playBalloonPop();\r\n        break;\r\n      case 'lights':\r\n        playBirthdayMusic();\r\n        break;\r\n      case 'final':\r\n        playCelebration();\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    // Auto-advance if specified\r\n    if (currentStepConfig?.next) {\r\n      setTimeout(() => {\r\n        handleStepComplete();\r\n      }, 1000);\r\n    }\r\n  };\r\n\r\n  const renderStep = () => {\r\n    switch (currentStepConfig?.scene) {\r\n      case 'DarkRoom':\r\n        return <DarkRoomScene step={currentStepConfig} onInteraction={handleInteraction} />;\r\n      case 'LightReveal':\r\n        return <LightRevealScene step={currentStepConfig} onInteraction={handleInteraction} />;\r\n      case 'BalloonInteraction':\r\n        return <BalloonInteractionScene step={currentStepConfig} onInteraction={handleInteraction} />;\r\n      case 'FinalReveal':\r\n        return <FinalRevealScene step={currentStepConfig} onInteraction={handleInteraction} />;\r\n      default:\r\n        return <div>Loading...</div>;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative w-full h-screen overflow-hidden bg-black\">\r\n      {/* Background Audio */}\r\n      <audio ref={audioRef} preload=\"auto\" />\r\n      \r\n      {/* Progress Bar */}\r\n      <div className=\"absolute top-4 left-4 right-4 z-50\">\r\n        <div className=\"bg-gray-800 rounded-full h-2\">\r\n          <motion.div\r\n            className=\"bg-gradient-to-r from-yellow-400 to-orange-500 h-2 rounded-full\"\r\n            initial={{ width: 0 }}\r\n            animate={{ width: `${((currentStep + 1) / template.config.steps.length) * 100}%` }}\r\n            transition={{ duration: 0.5 }}\r\n          />\r\n        </div>\r\n        <div className=\"text-white text-sm mt-2 text-center\">\r\n          Step {currentStep + 1} of {template.config.steps.length}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <AnimatePresence mode=\"wait\">\r\n        <motion.div\r\n          key={currentStep}\r\n          initial={{ opacity: 0, scale: 0.8 }}\r\n          animate={{ opacity: 1, scale: 1 }}\r\n          exit={{ opacity: 0, scale: 1.2 }}\r\n          transition={{ duration: 0.5 }}\r\n          className=\"w-full h-full\"\r\n        >\r\n          {renderStep()}\r\n        </motion.div>\r\n      </AnimatePresence>\r\n\r\n      {/* Skip Button */}\r\n      <button\r\n        onClick={onComplete}\r\n        className=\"absolute bottom-4 right-4 z-50 bg-gray-800 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors\"\r\n      >\r\n        Skip to End\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Dark Room Scene with Golden Door\r\nconst DarkRoomScene = ({ step, onInteraction }) => {\r\n  const [doorClicked, setDoorClicked] = useState(false);\r\n\r\n  const handleDoorClick = () => {\r\n    setDoorClicked(true);\r\n    onInteraction('door', { opened: true });\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative w-full h-full bg-gradient-to-b from-gray-900 to-black flex items-center justify-center\">\r\n      {/* Ambient particles */}\r\n      <div className=\"absolute inset-0\">\r\n        {[...Array(20)].map((_, i) => (\r\n          <motion.div\r\n            key={i}\r\n            className=\"absolute w-1 h-1 bg-yellow-400 rounded-full\"\r\n            animate={{\r\n              x: [0, 100, 0],\r\n              y: [0, -100, 0],\r\n              opacity: [0, 1, 0],\r\n            }}\r\n            transition={{\r\n              duration: 3 + Math.random() * 2,\r\n              repeat: Infinity,\r\n              delay: Math.random() * 2,\r\n            }}\r\n            style={{\r\n              left: `${Math.random() * 100}%`,\r\n              top: `${Math.random() * 100}%`,\r\n            }}\r\n          />\r\n        ))}\r\n      </div>\r\n\r\n      {/* Golden Door */}\r\n      <motion.div\r\n        className=\"relative cursor-pointer\"\r\n        whileHover={{ scale: 1.05 }}\r\n        whileTap={{ scale: 0.95 }}\r\n        onClick={handleDoorClick}\r\n      >\r\n        <motion.div\r\n          className=\"w-64 h-96 bg-gradient-to-b from-yellow-400 via-yellow-500 to-yellow-600 rounded-lg shadow-2xl border-4 border-yellow-300\"\r\n          animate={doorClicked ? { rotateY: 90 } : { rotateY: 0 }}\r\n          transition={{ duration: 2, ease: \"easeInOut\" }}\r\n          style={{ transformStyle: \"preserve-3d\" }}\r\n        >\r\n          {/* Door handle */}\r\n          <div className=\"absolute right-4 top-1/2 transform -translate-y-1/2\">\r\n            <div className=\"w-6 h-6 bg-yellow-700 rounded-full shadow-lg\" />\r\n          </div>\r\n          \r\n          {/* Door panels */}\r\n          <div className=\"absolute inset-4 border-2 border-yellow-300 rounded\" />\r\n          <div className=\"absolute top-8 left-8 right-8 bottom-8 border border-yellow-200 rounded\" />\r\n        </motion.div>\r\n      </motion.div>\r\n\r\n      {/* Click instruction */}\r\n      {!doorClicked && (\r\n        <motion.div\r\n          className=\"absolute bottom-20 text-yellow-400 text-xl font-semibold\"\r\n          animate={{ opacity: [0.5, 1, 0.5] }}\r\n          transition={{ duration: 2, repeat: Infinity }}\r\n        >\r\n          Click the golden door to enter...\r\n        </motion.div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Light Reveal Scene\r\nconst LightRevealScene = ({ step, onInteraction }) => {\r\n  const [lightsOn, setLightsOn] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setLightsOn(true);\r\n      onInteraction('lights', { illuminated: true });\r\n    }, 1000);\r\n    \r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n  return (\r\n    <motion.div\r\n      className=\"relative w-full h-full flex items-center justify-center\"\r\n      animate={{\r\n        backgroundColor: lightsOn ? '#FFE5E5' : '#1a1a1a',\r\n      }}\r\n      transition={{ duration: 2 }}\r\n    >\r\n      {/* Room decorations */}\r\n      <AnimatePresence>\r\n        {lightsOn && (\r\n          <>\r\n            {/* Balloons */}\r\n            {[...Array(8)].map((_, i) => (\r\n              <motion.div\r\n                key={i}\r\n                className=\"absolute w-16 h-20 rounded-full\"\r\n                style={{\r\n                  backgroundColor: ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7'][i % 5],\r\n                  left: `${20 + (i * 10)}%`,\r\n                  top: `${30 + (i % 2 * 20)}%`,\r\n                }}\r\n                initial={{ scale: 0, y: 100 }}\r\n                animate={{ scale: 1, y: 0 }}\r\n                transition={{ delay: i * 0.2, duration: 0.8 }}\r\n              />\r\n            ))}\r\n\r\n            {/* Confetti */}\r\n            {[...Array(50)].map((_, i) => (\r\n              <motion.div\r\n                key={i}\r\n                className=\"absolute w-2 h-2 rounded-full\"\r\n                style={{\r\n                  backgroundColor: ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7'][i % 5],\r\n                  left: `${Math.random() * 100}%`,\r\n                  top: `${Math.random() * 100}%`,\r\n                }}\r\n                initial={{ y: -20, opacity: 0 }}\r\n                animate={{ y: 0, opacity: 1 }}\r\n                transition={{ delay: i * 0.1, duration: 1 }}\r\n              />\r\n            ))}\r\n\r\n            {/* Welcome message */}\r\n            <motion.div\r\n              className=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center\"\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ delay: 1, duration: 0.8 }}\r\n            >\r\n              <h1 className=\"text-4xl font-bold text-pink-600 mb-4\">\r\n                🎉 Welcome to Your Birthday Surprise! 🎂\r\n              </h1>\r\n              <p className=\"text-xl text-gray-700\">\r\n                The magic is about to begin...\r\n              </p>\r\n            </motion.div>\r\n          </>\r\n        )}\r\n      </AnimatePresence>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\n// Balloon Interaction Scene\r\nconst BalloonInteractionScene = ({ step, onInteraction }) => {\r\n  const [poppedBalloons, setPoppedBalloons] = useState(new Set());\r\n  const [revealedContent, setRevealedContent] = useState([]);\r\n  \r\n  const totalBalloons = step.count || 5;\r\n  const allPopped = poppedBalloons.size === totalBalloons;\r\n\r\n  const handleBalloonPop = (balloonId) => {\r\n    if (poppedBalloons.has(balloonId)) return;\r\n    \r\n    setPoppedBalloons(prev => new Set([...prev, balloonId]));\r\n    \r\n    // Add revealed content\r\n    const newContent = {\r\n      id: balloonId,\r\n      type: 'message',\r\n      content: `Birthday wish ${balloonId + 1} 🎈`,\r\n      timestamp: Date.now()\r\n    };\r\n    setRevealedContent(prev => [...prev, newContent]);\r\n    \r\n    onInteraction('balloons', { popped: balloonId, total: totalBalloons });\r\n    \r\n    // Check if all balloons are popped\r\n    if (poppedBalloons.size + 1 === totalBalloons) {\r\n      setTimeout(() => {\r\n        onInteraction('balloons', { completed: true });\r\n      }, 1000);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative w-full h-full bg-gradient-to-b from-pink-100 to-purple-100 flex items-center justify-center\">\r\n      {/* Floating balloons */}\r\n      {[...Array(totalBalloons)].map((_, i) => (\r\n        <motion.div\r\n          key={i}\r\n          className={`absolute cursor-pointer ${poppedBalloons.has(i) ? 'pointer-events-none' : ''}`}\r\n          style={{\r\n            left: `${15 + (i * 15)}%`,\r\n            top: `${20 + (i % 2 * 30)}%`,\r\n          }}\r\n          animate={poppedBalloons.has(i) ? {} : {\r\n            y: [0, -20, 0],\r\n            rotate: [0, 5, -5, 0],\r\n          }}\r\n          transition={{ duration: 3, repeat: Infinity, delay: i * 0.3 }}\r\n        >\r\n          <motion.div\r\n            className={`w-20 h-24 rounded-full shadow-lg ${\r\n              poppedBalloons.has(i) ? 'opacity-0 scale-0' : 'opacity-100 scale-100'\r\n            }`}\r\n            style={{\r\n              backgroundColor: ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7'][i % 5],\r\n            }}\r\n            whileHover={{ scale: 1.1 }}\r\n            whileTap={{ scale: 0.9 }}\r\n            onClick={() => handleBalloonPop(i)}\r\n            transition={{ duration: 0.3 }}\r\n          >\r\n            {/* Balloon string */}\r\n            <div className=\"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-0.5 h-16 bg-gray-400\" />\r\n          </motion.div>\r\n        </motion.div>\r\n      ))}\r\n\r\n      {/* Revealed content */}\r\n      <div className=\"absolute bottom-20 left-4 right-4\">\r\n        <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\r\n          {revealedContent.map((content) => (\r\n            <motion.div\r\n              key={content.id}\r\n              className=\"bg-white p-4 rounded-lg shadow-lg border-2 border-pink-200\"\r\n              initial={{ opacity: 0, scale: 0.8 }}\r\n              animate={{ opacity: 1, scale: 1 }}\r\n              transition={{ duration: 0.5 }}\r\n            >\r\n              <p className=\"text-center text-gray-700 font-semibold\">\r\n                {content.content}\r\n              </p>\r\n            </motion.div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Progress indicator */}\r\n      <div className=\"absolute top-8 left-1/2 transform -translate-x-1/2\">\r\n        <div className=\"bg-white p-4 rounded-lg shadow-lg\">\r\n          <p className=\"text-lg font-semibold text-gray-700\">\r\n            🎈 {poppedBalloons.size} of {totalBalloons} balloons popped\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Completion message */}\r\n      {allPopped && (\r\n        <motion.div\r\n          className=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2\"\r\n          initial={{ opacity: 0, scale: 0.5 }}\r\n          animate={{ opacity: 1, scale: 1 }}\r\n          transition={{ duration: 0.8 }}\r\n        >\r\n          <div className=\"bg-gradient-to-r from-pink-400 to-purple-500 text-white p-8 rounded-2xl shadow-2xl text-center\">\r\n            <h2 className=\"text-3xl font-bold mb-4\">🎉 All Balloons Popped! 🎈</h2>\r\n            <p className=\"text-xl\">Ready for the final surprise?</p>\r\n          </div>\r\n        </motion.div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Final Reveal Scene\r\nconst FinalRevealScene = ({ step, onInteraction }) => {\r\n  const [showFinale, setShowFinale] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setShowFinale(true);\r\n      onInteraction('final', { revealed: true });\r\n    }, 1000);\r\n    \r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"relative w-full h-full bg-gradient-to-b from-purple-900 via-pink-800 to-red-600 flex items-center justify-center\">\r\n      {/* Fireworks effect */}\r\n      {showFinale && (\r\n        <div className=\"absolute inset-0\">\r\n          {[...Array(30)].map((_, i) => (\r\n            <motion.div\r\n              key={i}\r\n              className=\"absolute w-2 h-2 rounded-full\"\r\n              style={{\r\n                backgroundColor: ['#FFD700', '#FF6B6B', '#4ECDC4', '#45B7D1', '#FFEAA7'][i % 5],\r\n                left: `${Math.random() * 100}%`,\r\n                top: `${Math.random() * 100}%`,\r\n              }}\r\n              animate={{\r\n                scale: [0, 2, 0],\r\n                opacity: [0, 1, 0],\r\n                y: [0, -100, -200],\r\n                x: [0, Math.random() * 100 - 50, Math.random() * 100 - 50],\r\n              }}\r\n              transition={{\r\n                duration: 2 + Math.random() * 2,\r\n                repeat: Infinity,\r\n                delay: Math.random() * 2,\r\n              }}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {/* Main celebration content */}\r\n      <AnimatePresence>\r\n        {showFinale && (\r\n          <motion.div\r\n            className=\"text-center text-white z-10\"\r\n            initial={{ opacity: 0, y: 50 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 1 }}\r\n          >\r\n            <motion.h1\r\n              className=\"text-6xl md:text-8xl font-bold mb-8\"\r\n              animate={{ scale: [1, 1.1, 1] }}\r\n              transition={{ duration: 2, repeat: Infinity }}\r\n            >\r\n              🎉 Happy Birthday! 🎂\r\n            </motion.h1>\r\n            \r\n            <motion.p\r\n              className=\"text-2xl md:text-3xl mb-8\"\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              transition={{ delay: 0.5, duration: 1 }}\r\n            >\r\n              May your day be filled with joy, laughter, and wonderful surprises! ✨\r\n            </motion.p>\r\n\r\n            {/* Celebration buttons */}\r\n            <div className=\"flex flex-col sm:flex-row gap-4 justify-center\">\r\n              <motion.button\r\n                className=\"bg-white text-purple-600 px-8 py-4 rounded-full text-xl font-semibold hover:bg-gray-100 transition-colors\"\r\n                whileHover={{ scale: 1.05 }}\r\n                whileTap={{ scale: 0.95 }}\r\n                onClick={() => window.location.reload()}\r\n              >\r\n                🎁 Replay Surprise\r\n              </motion.button>\r\n              \r\n              <motion.button\r\n                className=\"bg-gradient-to-r from-pink-400 to-purple-500 text-white px-8 py-4 rounded-full text-xl font-semibold hover:from-pink-500 hover:to-purple-600 transition-all\"\r\n                whileHover={{ scale: 1.05 }}\r\n                whileTap={{ scale: 0.95 }}\r\n                onClick={() => {\r\n                  // Share functionality\r\n                  if (navigator.share) {\r\n                    navigator.share({\r\n                      title: 'Birthday Surprise!',\r\n                      text: 'Check out this amazing birthday surprise!',\r\n                      url: window.location.href\r\n                    });\r\n                  }\r\n                }}\r\n              >\r\n                📤 Share Joy\r\n              </motion.button>\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InteractiveTemplate;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}